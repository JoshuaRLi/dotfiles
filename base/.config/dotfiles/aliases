# invocation wrappers for xdg compliance
alias tmux="tmux -f ${XDG_CONFIG_HOME}/tmux/tmux.conf"
alias sqlite3="sqlite3 -init ${XDG_CONFIG_HOME}/sqlite3/sqliterc"

# TODO: need unarchiver alias/func and zstd

alias c='tput reset'
alias ..='cd ..'
alias ls='ls -F --color=always -v'
alias l='ls -lph'
alias ll='ls -Alph'
alias llt='ll -rt'
alias treea='tree -aI .git'
alias e="$EDITOR"
alias rd='rmdir'
alias badlinks='find . -xtype l'
alias lsblk='lsblk --output=NAME,MOUNTPOINT,TYPE,FSTYPE,LABEL,PARTLABEL,SIZE,UUID'
psi () {
    [ -n "$1" ] && ps wup $(pgrep -f "$1")
}
alias pst='pstree -hTp'
alias watchdir='inotifywait -e create,modify,delete -mr'

if df_require ncdu; then
    alias du='ncdu -rr --exclude ".git" --exclude "node_modules"'
else
    alias du='du -skh .??* * | sort -rh'
fi

alias df='df -x tmpfs -x devtmpfs -h -T'

# fd: find hidden files, excluding .git/ but including gitignored files
if df_require fd; then
    alias fdh="fd --no-ignore-vcs -H -E '.git/'"
fi

# rgh: grep through hidden files, excluding .git/ but including gitignored files
# (rg's default behavior is to ignore vcs ignore)
# AFAIK neither posix grep, gnu grep, nor git grep scratch this itch quite as elegantly as ripgrep does
# NOTE: add -l to list filenames only then | xargs $EDITOR
if df_require rg; then
    alias rgh="rg --hidden -g '!.git'"
fi

if df_require fping; then
    alias ping="fping -p500 -l"
fi

# see also ~/.gitconfig
alias gaa='git add --all'
alias gc='git commit'
alias gd='git d'
alias gdc='git dc'
alias gl='git l'
alias gp='git push -u'
gr () {
    [ -n "$1" ] && git reset HEAD~"$1" || git reset
}
alias grv='git remote -v'
alias gs='git status -sb -uall'

alias tl='tmux ls'
alias tn='tmux new -s'
alias ta='tmux a -t'
alias tk='tmux kill-session -t'

alias mp='mpv -vo null'
