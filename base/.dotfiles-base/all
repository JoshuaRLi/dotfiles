ssource () {
    for s in "$@"; do
        [ -f "$s" ] && . "$s" && break
    done
}

ssource "${HOME}/.dotfiles-base/lib"

ssource "${HOME}/.dotfiles-base/env"
ssource "${HOME}/.dotfiles-base/aliases"
ssource "${HOME}/.dotfiles-base/functions"

# dev environments
for f in "${HOME}/.dev/".*; do
    ssource "$f"
done

if xhost > /dev/null 2>&1; then
    ssource "${HOME}/.dotfiles-base/x"
fi

ssource "${HOME}/.os-specificrc"
ssource "${HOME}/.rice-specificrc"

unset -f ssource
