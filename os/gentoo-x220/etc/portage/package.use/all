app-portage/layman git

# glamor (X) not needed on pure wayland
# i965 doesn't use gallium
media-libs/mesa dri3 -gallium -llvm -glamor
x11-libs/libva drm utils -opengl

gui-wm/sway swaybar swaylock swaybg swaymsg -swayidle -swaynag

media-video/ffmpeg vaapi x264 -openh264 x265 libaom -network
media-libs/x264 10bit
media-video/mpv cli libass vaapi drm egl opengl uchardet zsh-completion -xv -bluray -archive -sdl -tools -javascript

# note: enable pgo on x230
www-client/firefox clang lto hardened bindist eme-free hwaccel pulseaudio screenshot -startup-notification -gmp-autoupdate -dbus -wifi -geckodriver system-av1 system-harfbuzz system-icu system-jpeg system-libevent system-libvpx system-sqlite system-webp
media-sound/pulseaudio alsa -asyncns -bluetooth -tcpd -webrtc-aec -ssl -orc
sys-auth/consolekit acl
sys-auth/polkit consolekit
sys-auth/pambase consolekit

dev-lang/python hardened sqlite ssl -tk -windows

sys-apps/flashrom internal internal_dmi ch341a_spi -atapromise -atavia -buspirate_spi -dediprog -drkaiser -dummy -ft2232_spi -gfxnvidia -it8212 -linux_spi -nic3com -nicintel -nicintel_eeprom -nicintel_spi -nicrealtek -ogp_spi -pickit2_spi -pony_spi -rayer_spi -satamv -satasii -serprog -usbblaster_spi -wiki

# various required python_targets 2.7 (i don't include 2.7 globally)
dev-vcs/git PYTHON_TARGETS: python2_7
sys-devel/clang LLVM_TARGETS: X86 -BPF -AMDGPU -NVPTX PYTHON_TARGETS: python2_7

# misc

# firefox requires nodejs to build, but i don't want or need npm with it
net-libs/nodejs -npm -snapshot -ssl PYTHON_TARGETS: python2_7

media-libs/libsdl2 gles

# cripple bluetooth, required by a lot of packages so don't feel like masking
net-wireless/bluez -mesh -obex -readline -udev

# termite -> vte -> gtk+ -> librsvg, -vala is for global -introspection
gnome-base/librsvg -vala

### end of explicit preferences ###

# required by sys-auth/consolekit-1.2.1::gentoo
# required by sys-auth/consolekit (argument)
>=dev-libs/glib-2.58.3 dbus
# required by x11-libs/libva-intel-driver-1.7.3::gentoo
# required by x11-libs/libva-1.7.3::gentoo[-video_cards_intel,video_cards_i965]
# required by media-video/ffmpeg-4.1.3::gentoo[vaapi]
# required by media-video/mpv-0.27.2::gentoo
# required by @selected
# required by @world (argument)
>=x11-libs/libdrm-2.4.97 video_cards_intel
# required by www-client/firefox-67.0.2::gentoo
# required by www-client/firefox (argument)
>=x11-libs/cairo-1.16.0-r3 X
# required by www-client/firefox-67.0.2::gentoo
# required by www-client/firefox (argument)
>=x11-libs/gtk+-3.24.8 X
# required by www-client/firefox-67.0.2::gentoo[system-libvpx]
# required by www-client/firefox (argument)
>=media-libs/libvpx-1.8.0-r1 postproc
# required by www-client/firefox-67.0.2::gentoo[system-libvpx]
# required by www-client/firefox (argument)
=media-libs/libvpx-1.5.0 postproc
# required by www-client/firefox-67.0.2::gentoo[system-sqlite]
# required by www-client/firefox (argument)
>=dev-db/sqlite-3.28.0 secure-delete
# required by x11-libs/gtk+-3.24.8::gentoo
# required by www-client/firefox-67.0.2::gentoo
# required by www-client/firefox (argument)
>=media-libs/libepoxy-1.5.3 X
# required by www-client/firefox-67.0.2::gentoo[system-libvpx]
# required by www-client/firefox (argument)
=media-libs/libvpx-1.7.0 postproc
# required by sys-devel/llvmgold-7::gentoo
>=sys-devel/llvm-7.1.0 gold
